<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ 2026é©¬å¹´å¼€è¿æŠ½ç­¾</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root { --main-red: #D32F2F; --gold: #FFD700; --soft-yellow: #FFF8E1; }
        body { margin: 0; background-color: var(--main-red); font-family: "Microsoft YaHei", sans-serif; display: flex; justify-content: center; min-height: 100vh; overflow-x: hidden; }
        .container { width: 100%; max-width: 500px; padding: 40px 20px; display: flex; flex-direction: column; align-items: center; box-sizing: border-box; }
        
        /* éŸ³ä¹æ§åˆ¶ */
        .music-control { position: fixed; top: 20px; right: 20px; z-index: 100; background: rgba(0,0,0,0.5); width: 36px; height: 36px; border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; border: 2px solid var(--gold); }
        .rotating { animation: rotate 3s linear infinite; }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* æ ‡é¢˜åŒº */
        .header { text-align: center; margin-bottom: 30px; position: relative; }
        .title { color: var(--gold); font-size: 36px; font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); margin: 0; }
        .subtitle { color: #FFCDD2; font-size: 14px; margin-top: 8px; display: block; letter-spacing: 2px; }

        /* ç»Ÿä¸€å¡ç‰‡æ ·å¼ */
        .box-panel { width: 100%; background: var(--soft-yellow); border-radius: 15px; border: 4px solid var(--gold); padding: 30px 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.3); box-sizing: border-box; text-align: center; }

        /* è¾“å…¥å§“ååŒºåŸŸ */
        #nameSection { margin-top: 20px; }
        .name-input { width: 85%; padding: 15px; border: 2px solid var(--main-red); border-radius: 30px; font-size: 18px; text-align: center; outline: none; margin: 20px 0; }
        
        /* æŠ½ç­¾å±•ç¤ºåŒºåŸŸ */
        #drawSection { display: none; width: 100%; }
        .card { height: 260px; display: flex; justify-content: center; align-items: center; position: relative; }
        .shake { animation: shakeAnim 0.5s ease-in-out; }
        @keyframes shakeAnim { 0%, 100% { transform: scale(1); } 25% { transform: rotate(-4deg) scale(1.1); } 75% { transform: rotate(4deg) scale(1.1); } }

        .user-name { color: #795548; font-size: 18px; margin-bottom: 15px; font-weight: bold; display: block; }
        .blessing-text { color: var(--main-red); font-size: 26px; font-weight: bold; line-height: 1.5; padding: 0 10px; }

        /* æŒ‰é’® */
        .btn { width: 85%; background: linear-gradient(to bottom, #FFEB3B, #FBC02D); color: var(--main-red); font-size: 20px; font-weight: bold; padding: 15px; border-radius: 40px; border: none; cursor: pointer; box-shadow: 0 6px 0 #D84315; transition: 0.1s; margin-top: 20px; }
        .btn:active { transform: translateY(4px); box-shadow: 0 2px 0 #D84315; }
        
        .hidden { display: none; }
    </style>
</head>
<body onclick="tryPlayMusic()">

<audio id="bgMusic" loop preload="auto">
    <source src="https://actions.google.com/sounds/v1/crowds/carnival_atmosphere.ogg" type="audio/ogg">
    </audio>

<div class="music-control" id="musicBtn" onclick="toggleMusic(event)">
    <span id="musicIcon" style="font-size: 20px;">ğŸµ</span>
</div>

<div class="container">
    <div class="header">
        <h1 class="title">ğŸ 2026é©¬å¹´å¤§å‰</h1>
        <span class="subtitle">â€”â€” ç‘é©¬å¥”è…¾ Â· å¥½è¿éšåè€Œæ¥ â€”â€”</span>
    </div>

    <div id="nameSection" class="box-panel">
        <b style="color:var(--main-red); font-size: 18px;">é¢†å–æ‚¨çš„2026ä¸“å±ç¦ç­¾</b>
        <input type="text" id="userNameInput" class="name-input" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å" maxlength="8">
        <button class="btn" onclick="startDraw()">è¿›å…¥æŠ½ç­¾</button>
    </div>

    <div id="drawSection">
        <div class="box-panel card" id="cardContainer">
            <div id="readyContent">
                <p style="color:var(--main-red); font-size:20px; font-weight:bold;">ğŸ<br>é©¬åˆ°åŠŸæˆï¼Œç¦æ°”å°†è‡³</p>
            </div>
            <div id="resultContent" class="hidden">
                <span class="user-name" id="displayName"></span>
                <div class="blessing-text" id="blessingDisplay"></div>
            </div>
        </div>
        <button class="btn" id="actionBtn" onclick="doDraw()">æŠ½å–æˆ‘çš„ä¸“å±å¥½è¿</button>
        <p style="color:white; font-size:12px; margin-top:20px; opacity:0.8;" onclick="location.reload()">é‡æ–°è¾“å…¥å§“å</p>
    </div>
</div>

<script>
    const blessings = [
        "ã€ä¸€é©¬å½“å…ˆã€‘2026ä¸šç»©é¢†è·‘å…¨é˜Ÿï¼Œæ™‹å‡åŠ¿ä¸å¯æŒ¡ï¼", "ã€é¾™é©¬ç²¾ç¥ã€‘èº«ä½“å¼ºå¥å¦‚é¾™ï¼Œæ´»åŠ›æ»¡æ ¼ï¼Œç™¾ç—…ä¸ä¾µï¼",
        "ã€é©¬åˆ°æˆåŠŸã€‘å¿ƒä¹‹æ‰€å‘ï¼Œçš†èƒ½åœ†æ»¡ï¼Œå‡¡äº‹éƒ½æœ‰å¥½ç»“æœï¼", "ã€ä¸‡é©¬å¥”è…¾ã€‘è´¢è·¯å¤§å¼€ï¼Œæ­£è´¢åè´¢æ»šæ»šè€Œæ¥ï¼Œé’±åŒ…é¼“é¼“ï¼",
        "ã€é‡‘é©¬è´ºå²ã€‘é˜–å®¶å¹¸ç¦å®‰åº·ï¼Œæ—¥å­åƒç³–ä¸€æ ·ç”œï¼", "ã€è·ƒé©¬æ‰¬é­ã€‘èŒåœºä¹˜é£ç ´æµªï¼Œæ‰€æœ‰éš¾é¢˜è¿åˆƒè€Œè§£ï¼",
        "ã€å¿«é©¬åŠ é­ã€‘å·¥ä½œæ•ˆç‡ç¿»å€ï¼Œå‘Šåˆ«åŠ ç­ï¼Œäº«å—è‡ªç”±ç”Ÿæ´»ï¼", "ã€åƒå†›ä¸‡é©¬ã€‘è´µäººç¯ç»•ï¼Œå›¢é˜ŸåŠ›æŒºï¼Œä½ æ°¸è¿œä¸æ˜¯ä¸€ä¸ªäººåœ¨æˆ˜æ–—ï¼",
        "ã€ç­–é©¬å¥”è…¾ã€‘å¿ƒæ€ç§¯ææ´’è„±ï¼Œæ´»å‡ºçœŸæˆ‘ï¼Œæ½‡æ´’èµ°å››æ–¹ï¼", "ã€ç¥é©¬éƒ½è¡Œã€‘2026è¿æ°”çˆ†æ£šï¼Œæƒ³ä»€ä¹ˆæ¥ä»€ä¹ˆï¼Œé”¦é²¤é™„ä½“ï¼",
        "ã€æ±—é©¬åŠŸåŠ³ã€‘ä½ çš„ä»˜å‡ºç»ˆæœ‰åšæŠ¥ï¼Œå¥–é‡‘ä¸è£èª‰åŒä¸°æ”¶ï¼", "ã€è€é©¬è¯†é€”ã€‘æ™ºæ…§å¤§å¢ï¼Œä»»ä½•è¿·èŒ«éƒ½èƒ½æ‰¾åˆ°æœ€ä¼˜å‡ºå£ï¼",
        "ã€é©¬ä¸åœè¹„ã€‘å¥½è¿æ¥è¸µè€Œè‡³ï¼Œå–œäº‹è¿è¿ï¼Œåº”æ¥ä¸æš‡ï¼", "ã€å¤©é©¬è¡Œç©ºã€‘åˆ›æ„æ— é™çˆ†å‘ï¼Œç‚¹å­æˆé‡‘ï¼ŒæƒŠè‰³å…¨åœºï¼",
        "ã€æ‹›å…µä¹°é©¬ã€‘äººç¼˜æä½³ï¼Œæ–°çš„ä¸€å¹´ç»“è¯†æ›´å¤šå¿—åŒé“åˆçš„å¥½å‹ï¼", "ã€é©¬é¦–æ˜¯ç»ã€‘å±•ç°é¢†å¯¼é­…åŠ›ï¼Œæˆä¸ºå›¢é˜Ÿçš„æ ¸å¿ƒç„¦ç‚¹ï¼",
        "ã€é²œè¡£æ€’é©¬ã€‘ä¸è´ŸéŸ¶åï¼Œæ´»å¾—ç²¾å½©ï¼Œé¢œå€¼ä¸æ‰åé½é£ï¼", "ã€é©¬åˆ°æˆåã€‘å£ç¢‘ååˆ©åŒæ”¶ï¼Œåœ¨è¡Œä¸šå†…å£°åå´›èµ·ï¼",
        "ã€å¦‚é¾™ä¼¼é©¬ã€‘æ°”åœºå…¨å¼€ï¼ŒèŒåœºæ°”åŠ¿å¦‚è™¹ï¼Œå‹åŠ›å…¨æ¶ˆï¼", "ã€é©¬æ³°æ°‘å®‰ã€‘å†…å¿ƒå¹³é™å……å®ï¼Œæƒ…ç»ªç¨³å®šï¼Œå²å²å¹³å®‰ï¼",
        "ã€ç«¹é©¬ä¹‹å‹ã€‘é‡é€¢è€å‹ï¼Œæƒ…è°Šæ·±åšï¼Œç”Ÿæ´»å……æ»¡æ¸©æƒ…ï¼", "ã€èµ°é©¬ä¸Šä»»ã€‘è¿æ¥èŒä¸šç”Ÿæ¶¯æ–°é«˜åº¦ï¼ŒæŒæ¡æ›´å¤šä¸»åŠ¨æƒï¼",
        "ã€é©¬è½½ç¦æ¥ã€‘ç¦æ°”è£…æ»¡è½¦ï¼Œå¥½è¿æ‹‰æ»¡ä»“ï¼Œ2026å¤§å‰å¤§åˆ©ï¼", "ã€é©¬åŠ›åè¶³ã€‘æ½œåŠ›å¤§çˆ†å‘ï¼Œçªç ´è‡ªæˆ‘æé™ï¼Œåˆ›é€ å¥‡è¿¹ï¼",
        "ã€é£é©¬è¸äº‘ã€‘æ­¥æ­¥é«˜å‡ï¼Œè½»æ¾è·¨è¶Šäººç”Ÿçš„æ¯ä¸€ä¸ªå°ç›®æ ‡ï¼", "ã€é©¬å¹´å¸¸ä¹ã€‘ç¬‘å£å¸¸å¼€ï¼Œçƒ¦æ¼å‡åŠï¼Œå¿«ä¹åŠ å€ï¼",
        "ã€é‡‘æˆˆé“é©¬ã€‘å‹‡æ°”å€å¢ï¼Œæ— æƒ§ä»»ä½•æŒ‘æˆ˜ï¼Œé€†é£ç¿»ç›˜ï¼", "ã€é©¬é¸£é£è§ã€‘ç‹¬å…·ä¸€æ ¼çš„é­…åŠ›ï¼Œå¸å¼•æ‰€æœ‰ç¾å¥½çš„ç›®å…‰ï¼",
        "ã€é©¬å£®ç‰›å¼ºã€‘åƒå¾—é¦™ç¡å¾—å¥½ï¼Œæ¯å¤©éƒ½æ˜¯ç²¾ç¥å°ä¼™/å°ä»™å¥³ï¼", "ã€é©¬ç¦æ»¡å ‚ã€‘ä¸ä»…ä½ æ—ºï¼Œå…¨å®¶è·Ÿç€ä¸€èµ·æ—ºï¼Œç¦æ°”æ»¡æº¢ï¼"
    ];

    let currentName = "";
    const audio = document.getElementById('bgMusic');
    const musicBtn = document.getElementById('musicBtn');

    function tryPlayMusic() {
        if (audio.paused) {
            audio.play().then(() => {
                musicBtn.classList.add('rotating');
            }).catch(()=>{});
        }
    }

    function toggleMusic(e) {
        e.stopPropagation();
        if (audio.paused) {
            audio.play();
            musicBtn.classList.add('rotating');
        } else {
            audio.pause();
            musicBtn.classList.remove('rotating');
        }
    }

    function startDraw() {
        const input = document.getElementById('userNameInput');
        if (!input.value.trim()) {
            alert("è¯·å…ˆç•™ä¸‹æ‚¨çš„å¤§åå“¦ï¼");
            return;
        }
        currentName = input.value.trim();
        document.getElementById('nameSection').style.display = 'none';
        document.getElementById('drawSection').style.display = 'block';
        tryPlayMusic();
    }

    function fireConfetti() {
        const count = 200;
        const defaults = { origin: { y: 0.7 }, zIndex: 999 };

        function fire(particleRatio, opts) {
            confetti({ ...defaults, ...opts,
                particleCount: Math.floor(count * particleRatio),
                colors: ['#FFD700', '#D32F2F', '#FFFFFF']
            });
        }

        fire(0.25, { spread: 26, startVelocity: 55 });
        fire(0.2, { spread: 60 });
        fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
        fire(0.1, { spread: 120, startVelocity: 25, decay: 0.92, scalar: 1.2 });
        fire(0.1, { spread: 120, startVelocity: 45 });
    }

    function doDraw() {
        const card = document.getElementById('cardContainer');
        const actionBtn = document.getElementById('actionBtn');
        
        actionBtn.disabled = true;
        actionBtn.innerText = "æ­£åœ¨ä¸ºæ‚¨ç¥ˆç¦...";
        card.classList.add('shake');

        setTimeout(() => {
            card.classList.remove('shake');
            const randomIdx = Math.floor(Math.random() * blessings.length);
            
            document.getElementById('readyContent').classList.add('hidden');
            document.getElementById('resultContent').classList.remove('hidden');
            document.getElementById('displayName').innerText = `ç¥ã€${currentName}ã€‘ï¼š`;
            document.getElementById('blessingDisplay').innerText = blessings[randomIdx];
            
            // å–·æ´’çº¸å±‘
            fireConfetti();
            
            actionBtn.disabled = false;
            actionBtn.innerText = "å¥½è¿è¿è¿Â·å†æŠ½ä¸€æ¬¡";
        }, 800);
    }
</script>
</body>
</html>